{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"E-colle scraper Docs","text":"<p>This project enables sending ntfy notifications to a specific topic and server using your \"colles\" from an Ecolle instance.</p> <ul> <li> <p>Getting started</p> </li> <li> <p>Configuration</p> </li> </ul>"},{"location":"configuration/","title":".env configuration","text":"<p>This project is configured via environment variables (typically stored in a <code>.env</code> file).</p> <p>Only the variables that are not commented out in <code>.env.example</code> are required; commented ones are optional.</p>"},{"location":"configuration/#setup","title":"Setup","text":""},{"location":"configuration/#with-docker-compose-recommended","title":"With docker compose (recommended)","text":""},{"location":"configuration/#docker-composeyml","title":"docker-compose.yml","text":"<pre><code>services:\n  app:\n    image: ghcr.io/florianzarbo/ecolle-scraper:latest\n    environment:\n        # Set this to your institution's base e-colle url\n        - BASE_URL=https://ecolle.example.com\n        # You need those to auth to ecolle and get your colle agenda\n        - COLLES_USERNAME=YourUsername\n        - COLLES_PASSWORD=YourPassword\n\n        # Shows the n next colles\n        - NUMBER_OF_COLLES_TO_SHOW=1\n\n        # Set to your instance's url,\n        # I recommend using https and setup either an already trusted ssl cert\n        # or a self signed certificate (see below)\n        # Default : https://ntfy.sh\n        # - NTFY_SERVER=\n\n        # Set this to the ntfy topic you want to use for your notifictions,\n        # I suggest using a random string\n        - NTFY_TOPIC=YourTopicName\n        - NTFY_TITLE=Today's colles\n\n        # Set to true if using a self signed certificate for your instance\n        # Default : False\n        # - SELF_SIGNED_CERTIFICATE=true\n\n        # Path to your rootCA that signed you ssl certificate\n        # - ROOT_CA_PATH=/app/certs/rootCA.pem\n    # volumes:\n      # - ./certs:/app/certs:ro\n</code></pre> <p>Once you set the required variables, run <code>docker compose up -d</code></p>"},{"location":"configuration/#env-file","title":".env file","text":"<ol> <li> <p>Copy the template:</p> <pre><code>cp .env.example .env\n</code></pre> </li> <li> <p>Edit <code>.env</code> and set the required values.</p> </li> <li>Do not commit <code>.env</code> (it contains secrets).</li> </ol>"},{"location":"configuration/#required-variables","title":"Required variables","text":""},{"location":"configuration/#base_url","title":"<code>BASE_URL</code>","text":"<p>Base URL of your institution's e-colle website.</p> <ul> <li> <p>Example:</p> <pre><code>BASE_URL=https://ecolle.example.com\n</code></pre> </li> <li> <p>Notes: Include <code>https://</code> and use the site's base URL (no extra path unless required by your institution).</p> </li> </ul>"},{"location":"configuration/#colles_username","title":"<code>COLLES_USERNAME</code>","text":"<p>Your e-colle username (used to authenticate and fetch your colle agenda).</p> <ul> <li>Example:<pre><code>COLLES_USERNAME=YourUsername\n</code></pre> </li> </ul>"},{"location":"configuration/#colles_password","title":"<code>COLLES_PASSWORD</code>","text":"<p>Your e-colle password (used to authenticate).</p> <ul> <li> <p>Example:</p> <pre><code>COLLES_PASSWORD=YourPassword\n</code></pre> </li> <li> <p>Security: Treat as a secret; prefer secret storage (CI secrets, systemd credentials, etc.) when possible.</p> </li> </ul>"},{"location":"configuration/#number_of_colles_to_show","title":"<code>NUMBER_OF_COLLES_TO_SHOW</code>","text":"<p>How many upcoming colles to display/send.</p> <ul> <li> <p>Example:</p> <pre><code>NUMBER_OF_COLLES_TO_SHOW=1\n</code></pre> </li> <li> <p>Type: integer (<code>1</code>, <code>2</code>, <code>3</code>, \u2026)</p> </li> </ul>"},{"location":"configuration/#ntfy_topic","title":"<code>NTFY_TOPIC</code>","text":"<p>The ntfy topic to publish notifications to.</p> <ul> <li> <p>Example:</p> <pre><code>NTFY_TOPIC=YourTopicName\n</code></pre> </li> <li> <p>Tip: If using a public ntfy server, use a random topic name to reduce the risk of others guessing it.</p> </li> </ul>"},{"location":"configuration/#ntfy_title","title":"<code>NTFY_TITLE</code>","text":"<p>The title used for notifications.</p> <ul> <li> <p>Example:</p> <pre><code>NTFY_TITLE=Today's colles\n</code></pre> </li> <li> <p>Tip: Keep quotes if there are spaces.</p> </li> </ul>"},{"location":"configuration/#optional-variables","title":"Optional variables","text":""},{"location":"configuration/#ntfy_server","title":"<code>NTFY_SERVER</code>","text":"<p>URL of your ntfy instance.</p> <ul> <li>Default: <code>https://ntfy.sh</code></li> <li>Set this only if you use a custom/self-hosted ntfy server.</li> <li>Example:<pre><code>NTFY_SERVER=https://ntfy.example.org\n</code></pre> </li> </ul>"},{"location":"configuration/#self_signed_certificate","title":"<code>SELF_SIGNED_CERTIFICATE</code>","text":"<p>Enable only if your server uses a self-signed TLS certificate.</p> <ul> <li>Default: <code>False</code></li> <li>Example:<pre><code>SELF_SIGNED_CERTIFICATE=true\n</code></pre> </li> </ul>"},{"location":"configuration/#root_ca_path","title":"<code>ROOT_CA_PATH</code>","text":"<p>Path to the Root CA file (PEM) that signed your TLS certificate.</p> <ul> <li>Example:<pre><code>ROOT_CA_PATH=/path/to/rootCA.pem\n</code></pre> </li> </ul>"},{"location":"configuration/#example-env","title":"Example <code>.env</code>","text":"<pre><code>BASE_URL=https://ecolle.example.com\nCOLLES_USERNAME=alice\nCOLLES_PASSWORD=change-me\nNUMBER_OF_COLLES_TO_SHOW=2\n\nNTFY_TOPIC=mp2i-9f3a2c1d\nNTFY_TITLE=Today's colles\n\n# Optional:\n# NTFY_SERVER=https://ntfy.example.org\n# SELF_SIGNED_CERTIFICATE=true\n# ROOT_CA_PATH=/etc/ssl/my-rootCA.pem\n</code></pre>"},{"location":"configuration/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Authentication errors: Double-check <code>BASE_URL</code>, <code>COLLES_USERNAME</code>, and <code>COLLES_PASSWORD</code>.</li> <li>No notifications: Verify <code>NTFY_TOPIC</code> (and <code>NTFY_SERVER</code> if you set it).</li> <li>TLS issues with self-hosted ntfy: Set <code>SELF_SIGNED_CERTIFICATE=true</code> and provide a valid <code>ROOT_CA_PATH</code>.</li> </ul>"},{"location":"getting-started/","title":"ntfy Notifications from Ecolle","text":""},{"location":"getting-started/#docker-compose-recommended","title":"Docker compose (recommended)","text":"<ol> <li>Install docker</li> <li>Copy docker-compose.yml</li> <li>Edit required variables</li> <li><code>docker compose up -d</code></li> </ol>"},{"location":"getting-started/#native","title":"Native","text":"<ol> <li>Install uv</li> <li><code>git clone https://github.com/florianzarbo/ecolle-scraper.git</code></li> <li>Edit <code>.env</code>, see configuration</li> <li><code>uv run main.py</code></li> </ol>"}]}